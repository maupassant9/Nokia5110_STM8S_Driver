/* MAIN.C file
 * Copyright (c) ÐùÎ¢¿Æ¼¼ http://xwopen.com
 */
#include "stm8s.h"
#include "stm8s_conf.h"
#include "stm8s_gpio.h"
#include "stm8s_beep.h"

#include "lcd5110.h"
#include "lcd_draw.h"

const unsigned char EstaticSensitive [] = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0xC0, 0xF8, 0xFC, 0xFF, 0xFE, 0xF8, 0xE0, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x80, 0xE0, 0xF8, 0xFC, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
0xFF, 0xFE, 0xF8, 0xE0, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xE0, 0x78, 0x7C, 0xFF, 0xDF, 0x8F, 0x87,
0xC3, 0xE3, 0xE3, 0xC3, 0x83, 0x01, 0x01, 0x01, 0x00, 0x00, 0x00, 0x01, 0x07, 0x1E, 0xF8, 0xE0,
0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xE0, 0xF0, 0xFE,
0xFF, 0xFF, 0xFF, 0x03, 0x0E, 0xFE, 0xFC, 0xC9, 0xFB, 0xFB, 0x77, 0x27, 0x6F, 0x4F, 0xD8, 0x90,
0xB0, 0x30, 0x78, 0x7C, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0xF8, 0xE0, 0x80, 0x00, 0x00, 0x00,
0x80, 0xC0, 0xF8, 0xFE, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0xFF, 0xFF, 0xFF,
0xFF, 0xFF, 0xFB, 0xFC, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0xFE, 0xFD, 0xFD, 0xF9,
0xFB, 0xF7, 0xE7, 0xEF, 0xCF, 0xDE, 0xF8, 0xE0, 
};


void clkInit( void )
{
	//initialize cpu clk with HSI @ 16MHz
  CLK->CKDIVR = 0;//(CLK_PRESCALER_HSIDIV1|CLK_PRESCALER_CPUDIV1);

  //enable the peripheral clock input
  //0. Timer 1: 
	//1. Timer 4: used for delay service
  //2. SPI: for sd card service
  //3. Uart1: for dbg and communication to pc
  //4. ADC: for getting datas
  //CLK->PCKENR1 |= (CLK_PCKENR1_TIM4|CLK_PCKENR1_SPI|CLK_PCKENR1_UART1);
  //CLK->PCKENR2 |= (CLK_PCKENR2_ADC);
}

main()
{
	clkInit();
	
	lcd5110Init(); 
	LcdClear();	
	LcdDrawBitmap(0,0,EstaticSensitive,40,40, LCD_DRAW_MODE_SET);
	LcdUpdate();
	LcdDrawBitmap(40,0,EstaticSensitive,40,40, LCD_DRAW_MODE_XOR);
	LcdUpdate();
	LcdClear();
	LcdDrawBitmap(40,0,EstaticSensitive,40,40, LCD_DRAW_MODE_CLR);
	LcdUpdate();
	LcdClear();
	LcdFillRoundRect(8,9,60,20, 10, LCD_DRAW_MODE_SET);
	LcdUpdate();
	LcdPutString(20,12,"eat",LCD_DRAW_MODE_CLR);
	LcdUpdate();
	while (1);
}